<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1'>

	<title>shykeiichi</title>

	<link rel='icon' type='image/png' href='./favicon.png'>
	<!-- <link rel='stylesheet' href='./styles_light.css' id="themecss"> -->
    <link rel='stylesheet' href='./global.css'>
</head>
    <body>
        <header>
            <a href="./index.html">shykeiichi</a>
            <div class="headerlinks">
                <a href="./board.html">board</a>
            </div>
            <div style="width: 100%; height: 20px;"></div>
            
            <img src="images/light.svg" alt="theme switcher" id="themebutton"/>
        </header>
        <div class="subheader">
            <a href="./index.html">/</a>
        </div>
        <div class="main">
            <div class="container">
                <CButton color="#EC7272" on:redirect='https://www.youtube.com/c/shykeiichi'>Youtube</CButton>
                <CButton on:redirect='https://twitter.com/shykeiichi'>Twitter</CButton>
                <CButton color="#16213E" on:redirect='https://github.com/shykeiichi'>Github</CButton>
                <CButton color="#EC7272" on:redirect='https://reddit.com/u/shykeiichi'>Reddit</CButton>
                <CButton on:redirect='mailto:mail@keii.dev'>Mail</CButton>
            </div>
        </div>
        <footer>
            <a href="https://keii.dev" style="color: rgb(146, 146, 146); width: 120px; position: absolute; left: 20px;">To keii.dev</a>
            <div>
                shykeiichi Â© 2022
            </div>
        </footer>
        <script type="text/javascript" src="./candyland.js"></script>
        <script>
            let theme;
            if(localStorage.getItem('theme') == undefined) {
                if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    theme = "dark";
                } else {
                    theme = "light";
                }
            } else {
                theme = localStorage.getItem('theme');
            }
            
            updateTheme();

            document.getElementById('themebutton').addEventListener('click', function (event) {
                if(theme == "light") {
                    theme = "dark";
                } else {
                    theme = "light";
                }
                updateTheme();
            });

            function updateTheme() {
                document.getElementById('themebutton').setAttribute('src', `images/${theme}.svg`)
                if(document.getElementById('themecss') != undefined) {
                    document.getElementById('themecss').remove();
                }
                var cssFile = document.createElement('link');
                cssFile.rel = 'stylesheet';
                cssFile.href = `styles_${theme}.css`;  // or path for file {themes('/styles/mobile.css')}
                cssFile.id = "themecss";
                document.head.appendChild(cssFile); 

                localStorage.setItem('theme', theme);

                setTheme(theme);
            }
        </script>
    </body>
</html>